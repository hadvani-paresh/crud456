@{
    ViewData["Title"] = "World Time";
}

<div class="container animate-fade-in">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card premium-card border-0 shadow-lg overflow-hidden">
                <div class="card-body p-5">
                    <h2 class="fw-bold mb-5 text-center">World Clock</h2>

                    <div class="row justify-content-center mb-5">
                        <div class="col-md-6 text-center">
                            <div class="clock-circle mx-auto mb-4 d-flex align-items-center justify-content-center bg-white shadow-lg rounded-circle" style="width: 200px; height: 200px;">
                                <div>
                                    <h1 class="display-3 fw-bold mb-0 text-dark" id="localTime">--:--</h1>
                                    <p class="text-muted mb-0" id="localDate">--</p>
                                </div>
                            </div>
                            <h4 class="fw-bold">Your Local Time</h4>
                        </div>
                    </div>

                    <hr class="my-5 opacity-25">

                    <h4 class="fw-bold mb-4"><i class="bi bi-globe me-2 text-primary"></i>Global Cities</h4>
                    <div class="row g-4" id="worldClocks">
                        <!-- Clocks will be injected here -->
                    </div>
                </div>
            </div>
             <div class="text-center mt-4">
                <a href="/Dashboard" class="btn btn-light-premium rounded-pill px-4">
                    <i class="bi bi-arrow-left me-2"></i>Back to Dashboard
                </a>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        const cities = [
            { name: "New York", timezone: "America/New_York" },
            { name: "London", timezone: "Europe/London" },
            { name: "Tokyo", timezone: "Asia/Tokyo" },
            { name: "Dubai", timezone: "Asia/Dubai" },
            { name: "Sydney", timezone: "Australia/Sydney" }
        ];

        function updateClocks() {
            // Local Time
            const now = new Date();
            document.getElementById('localTime').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            document.getElementById('localDate').innerText = now.toLocaleDateString([], { weekday: 'short', month: 'short', day: 'numeric' });

            // World Clocks
            const container = document.getElementById('worldClocks');
            container.innerHTML = '';
            
            cities.forEach(city => {
                const cityTime = new Date().toLocaleTimeString('en-US', { timeZone: city.timezone, hour: '2-digit', minute: '2-digit' });
                const cityDate = new Date().toLocaleDateString('en-US', { timeZone: city.timezone, weekday: 'short', day: 'numeric' });
                
                const col = document.createElement('div');
                col.className = 'col-md-4 col-sm-6';
                col.innerHTML = `
                    <div class="p-3 bg-white bg-opacity-50 rounded-4 shadow-sm h-100 text-center transform-hover">
                        <p class="h5 fw-bold mb-1">${city.name}</p>
                        <h2 class="text-primary fw-bold mb-1">${cityTime}</h2>
                        <p class="small text-muted mb-0">${cityDate}</p>
                    </div>
                `;
                container.appendChild(col);
            });
        }

        setInterval(updateClocks, 1000);
        updateClocks();
    </script>
}
